{"is_source_file": true, "format": "Dart", "description": "This is a Flutter widget class 'CallScreen' that manages the UI and interactions for an ongoing video call, including initialization, controls for mute, camera, speaker, and ending the call, as well as displaying local and remote video streams.", "external_files": ["package:flutter/material.dart", "package:go_router/go_router.dart", "package:flutter_webrtc/flutter_webrtc.dart", "package:provider/provider.dart", "../../../widgets/ocean_button.dart", "../../history/state/history_provider.dart", "../state/call_provider.dart", "add_participant_sheet.dart"], "external_methods": ["context.read<CallProvider>()", "call.startCall(roomId: widget.roomId)", "context.read<HistoryProvider>().startEntry(...)", "call.endCall()", "context.read<HistoryProvider>().endEntry(outcome: 'completed')", "context.go('/contacts')", "context.watch<CallProvider>()", "showModalBottomSheet(...)", "call.toggleMute()", "call.toggleCamera()", "call.switchCamera()", "call.toggleSpeaker()"], "published": ["CallScreen"], "classes": [{"name": "CallScreen", "description": "A Flutter StatefulWidget representing the call interface, showing video streams, call controls, and managing call lifecycle."}], "methods": [{"name": "createState", "description": "Creates the mutable state for this widget, _CallScreenState."}, {"name": "_CallScreenState", "description": "State class handling call UI and logic, including starting/stopping call, UI rendering, and user interactions."}, {"name": "didChangeDependencies", "description": "Initializes the call once dependencies are available, ensuring startCall is called exactly once."}, {"name": "dispose", "description": "Cleans up resources when the widget is removed from the widget tree."}, {"name": "_endCall", "description": "Ends the call, updates history, and navigates back to contacts."}, {"name": "build", "description": "Builds the UI for the call screen, including video views and control buttons."}], "calls": ["context.read<CallProvider>().startCall", "context.read<HistoryProvider>().startEntry", "call.endCall", "context.read<HistoryProvider>().endEntry", "context.go", "context.watch<CallProvider>()", "showModalBottomSheet", "call.toggleMute", "call.toggleCamera", "call.switchCamera", "call.toggleSpeaker"], "search-terms": ["Video call UI", "Flutter RTC", "Call controls", "Call lifecycle", "call screen widget", "RTCVideoView", "call provider", "history provider", "participant sheet"], "state": 2, "file_id": 39, "knowledge_revision": 81, "git_revision": "", "hash": "91e0fafd977395ee05639b9e114651a2", "format-version": 4, "code-base-name": "video_calling_app_frontend", "filename": "video_calling_app_frontend/lib/features/call/ui/call_screen.dart", "revision_history": [{"81": ""}]}